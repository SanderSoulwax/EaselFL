<!-- Render text in Easel -->

<html>
<head>

<script type="text/javascript" src="js/TestUtils.js"></script>

<link rel='stylesheet' type='text/css' href='css/test.css' />
<link rel='stylesheet' type='text/css' href='css/fonts/fonts.css' />

<script type="text/javascript">

window.onload = function(){
	if(TestUtils.useCanvas){
		TestUtils.loadWithEaselJS(init);
	}else{
		TestUtils.loadWithEaselFL(init);
	}
}

//-- Start it up!

function init(){
	var canvas = document.createElement('canvas');
	canvas.setAttribute('width', 600);
	canvas.setAttribute('height', 400);
	canvas.setAttribute('fl_swf_url', '../haxe/bin/easelfl-cur.swf');
	document.getElementById('testContainer').appendChild(canvas);
	
	var myStage = new createjs.Stage(canvas);
	createjs.Ticker.addListener(myStage);
	
	//-- specific test code

	



	var line, g;
	line = new createjs.Shape();
	g = line.graphics;
	g.beginFill('#FAA');
	g.drawRect(0, 0, 400, 1);
	g.endFill();
	line.x = -140;
	line.y = 27;
	myStage.addChild(line);

	line = line.clone();
	line.y = 100;
	myStage.addChild(line);

	line = line.clone();
	line.y = 131;
	myStage.addChild(line);


	line = line.clone();
	line.y = 204;
	myStage.addChild(line);


	line = line.clone();
	line.x = 275;
	line.y = 27;
	myStage.addChild(line);

	line = line.clone();
	line.y = 100;
	myStage.addChild(line);

	line = line.clone();
	line.y = 131;
	myStage.addChild(line);


	line = line.clone();
	line.y = 204;
	myStage.addChild(line);


	function addText() {
		// At this point, alphabetic seems to be the only baseline that is consistent across
		// HTML5 browsers
		var head = new createjs.Text('Hello G-bye', '100px "Old Standard TT Italic"', '#CCC');
		head.y = 100;
		head.x = 0;
		head.lineWidth = 320;
		//TODO: better auto lineheight
		head.lineHeight = 104;
		head.textBaseline = 'alphabetic';
		myStage.addChild(head);

		var head0 = new createjs.Text('Html Flash', '100px "Roboto Thin Italic"', '#CCC');
		head0.y = 100;
		head0.x = 275;
		head0.lineWidth = 320;
		head0.lineHeight = 104;
		head0.textBaseline = 'alphabetic';
		myStage.addChild(head0);
	}

	function embedFont() {
		if(createjs.Stage.isEaselFL) {
			myStage.flEmbedFonts(['RobotoThinItalic', 'OldStandardTTItalic'], 'css/fonts/Fonts.swf');
		}
	}

	embedFont();
	addText();
	
	
	
}

</script>
</head>
<body>
</body>
</html>