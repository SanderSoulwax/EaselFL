<!-- Displays a grid of red squares, rotated and translated; a small test image; hides
everything after 3 seconds -->

<html>
<head>


<script type="text/javascript" src="../js/swfobject.js"></script>

<script type="text/javascript" src="../js/easelfl/geom/Matrix2D.js"></script>
<script type="text/javascript" src="../js/easelfl/geom/Point.js"></script>
<script type="text/javascript" src="../js/easelfl/geom/Rectangle.js"></script>	
<script type="text/javascript" src="../js/easelfl/utils/UID.js"></script>
<script type="text/javascript" src="../js/easelfl/utils/CrossBrowser.js"></script>
<script type="text/javascript" src="../js/easelfl/display/CanvasFl.js"></script>
<script type="text/javascript" src="../js/easelfl/display/DisplayObject.js"></script>
<script type="text/javascript" src="../js/easelfl/display/Container.js"></script>
<script type="text/javascript" src="../js/easelfl/display/Stage.js"></script>
<script type="text/javascript" src="../js/easelfl/display/Graphics.js"></script>
<script type="text/javascript" src="../js/easelfl/display/Shape.js"></script>
<script type="text/javascript" src="../js/easelfl/display/ImageFl.js"></script>
<script type="text/javascript" src="../js/easelfl/display/Bitmap.js"></script>
<script type="text/javascript" src="../js/easelfl/display/FrameFl.js"></script>
<script type="text/javascript" src="../js/easelfl/display/SpriteSheet.js"></script>
<script type="text/javascript" src="../js/easelfl/display/BitmapAnimation.js"></script>
<script type="text/javascript" src="../js/easelfl/events/MouseEvent.js"></script>
<script type="text/javascript" src="../js/easelfl/utils/Ticker.js"></script>

<script type="text/javascript">

//-- Start it up!
window.onload = function(){
	
	var canvas = document.createElement('canvas');
	canvas.setAttribute('width', 600);
	canvas.setAttribute('height', 400);
	canvas.setAttribute('fl_swf_url', '../haxe/bin/EaselFl.swf');
	canvas.setAttribute('id', 'testContainer');
	
	var myStage = new Stage(canvas);
	Ticker.addListener(myStage);
	
	//-- specific test code
	img = new Image();
	img.src = "img/testSeq.png";
	img.onload = handleImageLoad;
	
	function handleImageLoad(event) {
		// create spritesheet and assign the associated data.
		var spriteSheet  = new SpriteSheet({
			images: [img],
			frames: {width:64, height:68, regX:32, regY:34},
			animations: {
				walkUpRt:[0,19,"walkRt"],
				walkDnRt:[20,39,"walkUpRt"],
				walkRt:[41,59,"walkDnRt"]
			}
		});
		
		// create a BitmapAnimation instance to display and play back the sprite sheet:
		var bmpAnim = new BitmapAnimation(spriteSheet);
		
		// start playing the first sequence:
		bmpAnim.gotoAndPlay("walkRt");		//animate
		
		bmpAnim.x = 50;
		bmpAnim.y = 50;
		myStage.addChild(bmpAnim);
	}
}


</script>

<style type="text/css">
 body {
	margin: 0;
	background: #EEE;
 }
 
 h1 {
	color: #FFF;
 }
 
 #testContainer {
	position: absolute;
	top: 0;
	left: 0;
 }
  
</style>
</head>
<body>
<div id="testContainer"></div>	
	
</body>
</html>