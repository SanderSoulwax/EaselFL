/*
 * EaselFL
 *
 * EaselFL is EaselJS rendering to Flash and designed
 * to work with browsers (including IE8) that have
 * Adobe Flash Player 9 or higher.
 * @author Brett Johnson, periscopic.com
 * 
 * Distributed under the terms of the MIT license.
 */

/*
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011 gskinner.com, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var b=0,a=this.length;b<a;b++)if(this[b]===e)return b;return-1});Date.now||(Date.now=function(){return(new Date).valueOf()})})();(function(e){var b=function(){throw"UID cannot be instantiated";};b._nextID=0;b.get=function(){return b._nextID++};e.UID=b})(createjs||(createjs={}));var createjs;(function(e){var b=function(){throw"Ticker cannot be instantiated.";};b.useRAF=null;b._listeners=null;b._pauseable=null;b._paused=!1;b._inited=!1;b._startTime=0;b._pausedTime=0;b._ticks=0;b._pausedTicks=0;b._interval=50;b._lastTime=0;b._times=null;b._tickTimes=null;b._rafActive=!1;b._timeoutID=null;b.addListener=function(c,a){null!=c&&(b._inited||b.init(),b.removeListener(c),b._pauseable[b._listeners.length]=null==a?!0:a,b._listeners.push(c))};b.init=function(){b._inited=!0;b._times=[];b._tickTimes=
[];b._pauseable=[];b._listeners=[];b._times.push(b._lastTime=b._startTime=b._getTime());b.setInterval(b._interval)};b.removeListener=function(c){null!=b._listeners&&(c=b._listeners.indexOf(c),-1!=c&&(b._listeners.splice(c,1),b._pauseable.splice(c,1)))};b.removeAllListeners=function(){b._listeners=[];b._pauseable=[]};b.setInterval=function(c){b._interval=c;b._inited&&b._setupTick()};b.getInterval=function(){return b._interval};b.setFPS=function(c){b.setInterval(1E3/c)};b.getFPS=function(){return 1E3/
b._interval};b.getMeasuredFPS=function(c){if(2>b._times.length)return-1;null==c&&(c=b.getFPS()|0);c=Math.min(b._times.length-1,c);return 1E3/((b._times[0]-b._times[c])/c)};b.setPaused=function(c){b._paused=c};b.getPaused=function(){return b._paused};b.getTime=function(c){return b._getTime()-b._startTime-(c?b._pausedTime:0)};b.getTicks=function(c){return b._ticks-(c?b._pausedTicks:0)};b._handleAF=function(){b._rafActive=!1;b._setupTick();b._getTime()-b._lastTime>=0.97*(b._interval-1)&&b._tick()};b._handleTimeout=
function(){b.timeoutID=null;b._setupTick();b._tick()};b._setupTick=function(){if(!(b._rafActive||null!=b.timeoutID)){if(b.useRAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c){c(b._handleAF);b._rafActive=!0;return}}b.timeoutID=setTimeout(b._handleTimeout,b._interval)}};b._tick=function(){var c=b._getTime();b._ticks++;var a=c-b._lastTime,d=b._paused;d&&(b._pausedTicks++,b._pausedTime+=
a);b._lastTime=c;for(var f=b._pauseable,h=b._listeners.slice(),g=h?h.length:0,e=0;e<g;e++){var j=h[e];null==j||d&&f[e]||(j.tick?j.tick(a,d):j instanceof Function&&j(a,d))}for(b._tickTimes.unshift(b._getTime()-c);100<b._tickTimes.length;)b._tickTimes.pop();for(b._times.unshift(c);100<b._times.length;)b._times.pop()};var a=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);b._getTime=function(){return a&&a.call(performance)||(new Date).getTime()};
e.Ticker=b})(createjs||(createjs={}));(function(e){var b=function(c,a,d,f,b){this.initialize(c,a,d,f,b)},a=b.prototype;a.stageX=0;a.stageY=0;a.type=null;a.nativeEvent=null;a.onMouseMove=null;a.onMouseUp=null;a.target=null;a.pointerID=0;a.primary=!1;a.initialize=function(c,a,d,f,b,g,e){this.type=c;this.stageX=a;this.stageY=d;this.target=f;this.nativeEvent=b;this.pointerID=g;this.primary=e};a.clone=function(){return new b(this.type,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary)};a.toString=function(){return"[MouseEvent (type="+
this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};e.MouseEvent=b})(createjs||(createjs={}));(function(e){var b=function(c,a,d,f,b,g){this.initialize(c,a,d,f,b,g)},a=b.prototype;b.identity=null;b.DEG_TO_RAD=Math.PI/180;a.a=1;a.b=0;a.c=0;a.d=1;a.tx=0;a.ty=0;a.alpha=1;a.shadow=null;a.compositeOperation=null;a.initialize=function(c,a,d,f,b,g){null!=c&&(this.a=c);this.b=a||0;this.c=d||0;null!=f&&(this.d=f);this.tx=b||0;this.ty=g||0;return this};a.prepend=function(c,a,d,b,h,g){var e=this.tx;if(1!=c||0!=a||0!=d||1!=b){var j=this.a,m=this.c;this.a=j*c+this.b*d;this.b=j*a+this.b*b;this.c=m*c+this.d*
d;this.d=m*a+this.d*b}this.tx=e*c+this.ty*d+h;this.ty=e*a+this.ty*b+g;return this};a.append=function(c,a,b,f,h,g){var e=this.a,j=this.b,m=this.c,k=this.d;this.a=c*e+a*m;this.b=c*j+a*k;this.c=b*e+f*m;this.d=b*j+f*k;this.tx=h*e+g*m+this.tx;this.ty=h*j+g*k+this.ty;return this};a.prependMatrix=function(c){this.prepend(c.a,c.b,c.c,c.d,c.tx,c.ty);this.prependProperties(c.alpha,c.shadow,c.compositeOperation);return this};a.appendMatrix=function(c){this.append(c.a,c.b,c.c,c.d,c.tx,c.ty);this.appendProperties(c.alpha,
c.shadow,c.compositeOperation);return this};a.prependTransform=function(c,a,d,f,h,g,e,j,m){if(h%360)var k=h*b.DEG_TO_RAD,h=Math.cos(k),k=Math.sin(k);else h=1,k=0;if(j||m)this.tx-=j,this.ty-=m;g||e?(g*=b.DEG_TO_RAD,e*=b.DEG_TO_RAD,this.prepend(h*d,k*d,-k*f,h*f,0,0),this.prepend(Math.cos(e),Math.sin(e),-Math.sin(g),Math.cos(g),c,a)):this.prepend(h*d,k*d,-k*f,h*f,c,a);return this};a.appendTransform=function(c,a,d,f,h,g,e,j,m){if(h%360)var k=h*b.DEG_TO_RAD,h=Math.cos(k),k=Math.sin(k);else h=1,k=0;g||
e?(g*=b.DEG_TO_RAD,e*=b.DEG_TO_RAD,this.append(Math.cos(e),Math.sin(e),-Math.sin(g),Math.cos(g),c,a),this.append(h*d,k*d,-k*f,h*f,0,0)):this.append(h*d,k*d,-k*f,h*f,c,a);if(j||m)this.tx-=j*this.a+m*this.c,this.ty-=j*this.b+m*this.d;return this};a.rotate=function(c){var a=Math.cos(c),c=Math.sin(c),b=this.a,f=this.c,h=this.tx;this.a=b*a-this.b*c;this.b=b*c+this.b*a;this.c=f*a-this.d*c;this.d=f*c+this.d*a;this.tx=h*a-this.ty*c;this.ty=h*c+this.ty*a;return this};a.skew=function(c,a){c*=b.DEG_TO_RAD;a*=
b.DEG_TO_RAD;this.append(Math.cos(a),Math.sin(a),-Math.sin(c),Math.cos(c),0,0);return this};a.scale=function(c,a){this.a*=c;this.d*=a;this.tx*=c;this.ty*=a;return this};a.translate=function(c,a){this.tx+=c;this.ty+=a;return this};a.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;this.shadow=this.compositeOperation=null;return this};a.invert=function(){var c=this.a,a=this.b,b=this.c,f=this.d,h=this.tx,g=c*f-a*b;this.a=f/g;this.b=-a/g;this.c=-b/g;this.d=c/g;this.tx=(b*
this.ty-f*h)/g;this.ty=-(c*this.ty-a*h)/g;return this};a.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};a.decompose=function(c){null==c&&(c={});c.x=this.tx;c.y=this.ty;c.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);c.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var a=Math.atan2(-this.c,this.d),d=Math.atan2(this.b,this.a);a==d?(c.rotation=d/b.DEG_TO_RAD,0>this.a&&0<=this.d&&(c.rotation+=0>=c.rotation?180:-180),c.skewX=c.skewY=0):(c.skewX=a/b.DEG_TO_RAD,
c.skewY=d/b.DEG_TO_RAD);return c};a.reinitialize=function(c,a,b,f,h,g,e,j,m){this.initialize(c,a,b,f,h,g);this.alpha=e||1;this.shadow=j;this.compositeOperation=m;return this};a.appendProperties=function(c,a,b){this.alpha*=c;this.shadow=a||this.shadow;this.compositeOperation=b||this.compositeOperation;return this};a.prependProperties=function(c,a,b){this.alpha*=c;this.shadow=this.shadow||a;this.compositeOperation=this.compositeOperation||b;return this};a.clone=function(){var c=new b(this.a,this.b,
this.c,this.d,this.tx,this.ty);c.shadow=this.shadow;c.alpha=this.alpha;c.compositeOperation=this.compositeOperation;return c};a.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};b.identity=new b(1,0,0,1,0,0);e.Matrix2D=b})(createjs||(createjs={}));(function(e){var b=function(c,a){this.initialize(c,a)},a=b.prototype;a.x=0;a.y=0;a.initialize=function(c,a){this.x=null==c?0:c;this.y=null==a?0:a};a.clone=function(){return new b(this.x,this.y)};a.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};e.Point=b})(createjs||(createjs={}));(function(e){var b=function(c,a,b,f){this.initialize(c,a,b,f)},a=b.prototype;a.x=0;a.y=0;a.width=0;a.height=0;a.initialize=function(c,a,b,f){this.x=null==c?0:c;this.y=null==a?0:a;this.width=null==b?0:b;this.height=null==f?0:f};a.clone=function(){return new b(this.x,this.y,this.width,this.height)};a.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};a._flX=0;a._flY=0;a._flWidth=0;a._flHeight=0;a._flCtx=null;a.id=null;a._flSync=function(c){this._flCtx||
(this.id=e.UID.get(),this._flCtx=c,c._flCreate.push(["rct",this]));if(this._flX!==this.x||this._flY!==this.y||this._flWidth!==this.width||this._flHeight!==this.height)this._flX=this.x,this._flY=this.y,this._flWidth=this.width,this._flHeight=this.height,this._flCtx._flChange.push([this.id,"dim",[this.x,this.y,this.width,this.height]])};e.Rectangle=b})(createjs||(createjs={}));(function(e){function b(c){this.initialize(c)}function a(c){var d;c.width=parseFloat(c.getAttribute("width")||a.FL_WIDTH);c.height=parseFloat(c.getAttribute("height")||a.FL_HEIGHT);d=c.getAttribute("transparent");c.transparent=!d||!0===d||"true"===d.toLowerCase();this._ctx=new b(c);this._ctx._flCanvas=this;this.width=c.width;this.height=c.height}var c=b.prototype;c._flCommandQueues=null;c._flInstance=null;c._flInstanceID=null;c._flChange=null;c._flCreate=null;c._flItemIndex=null;c._flCurPressEvent=
null;c._flCanvas=null;c._flFlush=function(){if(this.flReady){var c=this._flInstance;if(this._flCreate.length){for(var a=this._flCreate,b,h=this._flItemIndex,g=0,e=a.length;g<e;++g)b=a[g][1],a[g][1]=b.id,h[b.id]=b;c.sendCreate(this._flCreate);this._flCreate=[]}this._flChange.length&&(c.sendChange(this._flChange),this._flChange=[])}};c.flInvoke=function(c,a,b){return this._flInstance?this._flInstance.sendInvoke([c,a,b]):null};c._flOnReady=function(){this._flInstance=b._flGetInstance(this._flInstanceID);
this.flReady=!0;this._flFlush();this._flCanvas._stage&&this._flCanvas._stage.flOnReady&&(this._flCanvas._stage.flReady=!0,this._flCanvas._stage.flOnReady(this._flCanvas._stage))};c.initialize=function(c){function d(c){var a,b;if("onClick"===c.type||"onMouseOver"===c.type||"onMouseOut"===c.type||"onPress"===c.type||"onMouseMove"===c.type||"onMouseUp"===c.type)if("onMouseMove"===c.type||"onMouseUp"===c.type?(b=h._flCurPressEvent,a=b.target,"onMouseUp"===c.type&&(h._flCurPressEvent=null)):b=a=h._flItemIndex[c.id],
b&&b[c.type])a=new e.MouseEvent(c.type,c.stageX,c.stageY,a,null),b[c.type](a),"onPress"===c.type&&(h._flCurPressEvent=a)}var f,h=this,g=c.getAttribute("id"),l=c.getAttribute("fl_swf_url")||a.FL_URL;this._flCreate=[];this._flChange=[];this._flItemIndex={};f="EaselFl_"+b._flCount++;this._flInstanceID=g||f;g!==this._flInstanceID&&c.setAttribute("id",f);a._flHooks[f]=function(){a._flHooks[f]=d;h._flOnReady()};b._flLoadInstance(f,c.width,c.height,c.transparent,this._flInstanceID,l)};b._flCount=0;b._flLoadInstance=
function(c,a,b,h,g,e){swfobject.embedSWF(e,g,a.toString(),b.toString(),"9.0.0",!1,{id:c},{scale:"noscale",salign:"TL",wmode:h?"transparent":"opaque"})};b._flGetInstance=function(c){return/Explorer/.test(navigator.appName)?window[c]:document[c]};c=a.prototype;c._ctx=null;c._stage=null;c.width=0;c.height=0;c.transparent=!0;c.isFl=!0;c.getContext=function(c){return"2d"===c?this._ctx:null};a.FL_URL="EaselFl.swf";a.FL_WIDTH="400";a.FL_HEIGHT="400";a._flHooks={};e.CanvasFl=a})(createjs||(createjs={}));(function(e){var b=function(c){this.id=e.UID.get();this._img=c},a=b.prototype;a.id=null;a._img=null;a._flCtx=null;a._flSrc=null;a.sync=function(c){this._flCtx||(this._flCtx=c,c._flCreate.push(["img",this]));this._flSrc!==this._img.src&&(this._flSrc=this._img.src,c._flChange.push([this.id,"src",this._flSrc]))};b.watch=function(c){return!c.__fl?(c.__fl=new b(c),!0):!1};e.ImageFl=b})(createjs||(createjs={}));(function(e){var b=function(c,a,b,f){this.initialize(c,a,b,f)},a=b.prototype;b.identity=null;a.color=null;a.offsetX=0;a.offsetY=0;a.blur=0;a.initialize=function(c,a,b,f){this.color=c;this.offsetX=a;this.offsetY=b;this.blur=f;this.id=e.UID.get()};a.toString=function(){return"[Shadow]"};a.clone=function(){return new b(this.color,this.offsetX,this.offsetY,this.blur)};a.id=null;a._flChange=null;a._flCtx=null;a._flColor=null;a._flOffsetX=0;a._flOffsetY=0;a._flBlur=0;a._flSyncProps=function(c){this._flCtx||
(this._flCtx=c,c._flCreate.push(["shd",this]));if(this.color!==this._flColor||this.offsetX!==this._flOffsetX||this.offsetY!==this._flOffsetY||this.blur!==this._flBlur)this._flCtx._flChange.push([this.id,"shd",[this.color,this.offsetX,this.offsetY,this.blur]]),this._flColor=this.color,this._flOffsetX=this.offsetX,this._flOffsetY=this.offsetY,this._flBlur=this.blur};b.identity=new b("transparent",0,0,0);e.Shadow=b})(createjs||(createjs={}));(function(e){var b=function(c){this.id=e.UID.get();this._frame=c},a=b.prototype;a.id=null;a._frame=null;a._flCtx=null;a.sync=function(c){if(!this._flCtx){var a=this._frame;a.flip?(b.watch(a.src),a.src.__fl.sync(c),console.log(a.src.__fl),this._flCtx=c,c._flCreate.push(["frm",this]),c._flChange.push([this.id,"flp",[a.src.__fl.id,a.h,a.v]])):(e.ImageFl.watch(a.image),a.image.__fl.sync(c),this._flCtx=c,c._flCreate.push(["frm",this]),c._flChange.push([this.id,"init",[a.image.__fl.id,a.rect.x,a.rect.y,
a.rect.width,a.rect.height,a.regX,a.regY]]))}};b.watch=function(c){return!c.__fl?(c.__fl=new b(c),!0):!1};e.FrameFl=b})(createjs||(createjs={}));(function(e){var b=function(c){this.initialize(c)},a=b.prototype;a.complete=!0;a.onComplete=null;a._animations=null;a._frames=null;a._images=null;a._data=null;a._loadCount=0;a._frameHeight=0;a._frameWidth=0;a._numFrames=0;a._regX=0;a._regY=0;a.initialize=function(c){var a,b,f;if(null!=c){if(c.images&&0<(b=c.images.length)){f=this._images=[];for(a=0;a<b;a++){var h=c.images[a];if("string"==typeof h){var g=h,h=new Image;h.src=g}f.push(h);!h.getContext&&!h.complete&&(this._loadCount++,this.complete=!1,
function(c){h.onload=function(){c._handleImageLoad()}}(this))}}if(null!=c.frames)if(c.frames instanceof Array){this._frames=[];f=c.frames;a=0;for(b=f.length;a<b;a++)g=f[a],this._frames.push({image:this._images[g[4]?g[4]:0],rect:new e.Rectangle(g[0],g[1],g[2],g[3]),regX:g[5]||0,regY:g[6]||0})}else b=c.frames,this._frameWidth=b.width,this._frameHeight=b.height,this._regX=b.regX||0,this._regY=b.regY||0,this._numFrames=b.count,0==this._loadCount&&this._calculateFrames();if(null!=(b=c.animations)){this._animations=
[];this._data={};for(var l in b){c={name:l};g=b[l];if(isNaN(g))if(g instanceof Array){c.frequency=g[3];c.next=g[2];f=c.frames=[];for(a=g[0];a<=g[1];a++)f.push(a)}else c.frequency=g.frequency,c.next=g.next,a=g.frames,f=c.frames=!isNaN(a)?[a]:a.slice(0);else f=c.frames=[g];c.next=2>f.length||!1==c.next?null:null==c.next||!0==c.next?l:c.next;c.frequency||(c.frequency=1);this._animations.push(l);this._data[l]=c}}}};a.getNumFrames=function(c){if(null==c)return this._frames?this._frames.length:this._numFrames;
c=this._data[c];return null==c?0:c.frames.length};a.getAnimations=function(){return this._animations.slice(0)};a.getAnimation=function(c){return this._data[c]};a.getFrame=function(c){return this.complete&&this._frames&&(frame=this._frames[c])?frame:null};a.toString=function(){return"[SpriteSheet]"};a.clone=function(){var c=new b;c.complete=this.complete;c._animations=this._animations;c._frames=this._frames;c._images=this._images;c._data=this._data;c._frameHeight=this._frameHeight;c._frameWidth=this._frameWidth;
c._numFrames=this._numFrames;c._loadCount=this._loadCount;return c};a._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.onComplete&&this.onComplete())};a._calculateFrames=function(){if(!(this._frames||0==this._frameWidth)){this._frames=[];for(var c=0,a=this._frameWidth,b=this._frameHeight,f=0,h=this._images;f<h.length;f++){for(var g=h[f],l=(g.width+1)/a|0,j=(g.height+1)/b|0,j=0<this._numFrames?Math.min(this._numFrames-c,l*j):l*j,m=0;m<j;m++)this._frames.push({image:g,
rect:new e.Rectangle(m%l*a,(m/l|0)*b,a,b),regX:this._regX,regY:this._regY});c+=j}this._numFrames=c}};e.SpriteSheet=b})(createjs||(createjs={}));(function(e){var b=function(){this.initialize()},a=b.prototype;b.getRGB=function(c,a,b,f){null!=c&&null==b&&(f=a,b=c&255,a=c>>8&255,c=c>>16&255);return null==f?"rgb("+c+","+a+","+b+")":"rgba("+c+","+a+","+b+","+f+")"};b.getHSL=function(c,a,b,f){return null==f?"hsl("+c%360+","+a+"%,"+b+"%)":"hsla("+c%360+","+a+"%,"+b+"%,"+f+")"};b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,
i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,"0":52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};b.STROKE_CAPS_MAP=["butt","round","square"];b.STROKE_JOINTS_MAP=["miter","round","bevel"];a._strokeInstructions=null;a._strokeStyleInstructions=null;a._fillInstructions=null;a._instructions=null;a._oldInstructions=null;a._activeInstructions=null;a._active=!1;a._dirty=!1;a.initialize=function(){this.id=e.UID.get();this._flChange=[];this._flChildImages=
[]};a.draw=function(c){for(;this._flChildImages.length;)this._flChildImages.pop().sync(c);if(this._flChange.length){for(var a=0,b=this._flChange.length;a<b;++a)c._flChange.push(this._flChange[a]);this._flChange=[]}};a.moveTo=function(c,a){this._flChange.push([this.id,"mt",[c,a]]);return this};a.lineTo=function(c,a){this._flChange.push([this.id,"lt",[c,a]]);return this};a.arcTo=function(c,a,b,f,h){this._flChange.push([this.id,"at",[c,a,b,f,h]]);return this};a.arc=function(c,a,b,f,h,g){null==g&&(g=
!1);this._flChange.push([this.id,"a",[c,a,b,f,h,g]]);return this};a.quadraticCurveTo=function(c,a,b,f){this._flChange.push([this.id,"qt",[c,a,b,f]]);return this};a.bezierCurveTo=function(c,a,b,f,h,g){this._flChange.push([this.id,"bt",[c,a,b,f,h,g]]);return this};a.rect=function(c,a,b,f){this._flChange.push([this.id,"dr",[c,a,b,f]]);return this};a.closePath=function(){this._flChange.push([this.id,"cp"]);return this};a.clear=function(){this._flChange.push([this.id,"c"]);return this};a.beginFill=function(c){this._flChange.push([this.id,
"f",[c]]);return this};a.beginLinearGradientFill=function(c,a,b,f,h,g){this._flChange.push([this.id,"lf",[c,a,b,f,h,g]]);return this};a.beginRadialGradientFill=function(c,a,b,f,h,g,e,j){this._flChange.push([this.id,"rf",[c,a,b,f,h,g,e,j]]);return this};a.beginBitmapFill=function(c,a){e.Stage.FL_LOG_PART_IMPLEMENTED&&(a&&"repeat-x"===a||"repeat-y"===a)&&console.log("EaselFl:Graphics.beginBitmapFill currently does not implement repeat-x or repeat-y");e.ImageFl.watch(c);this._flChildImages.push(c.__fl);
this._flChange.push([this.id,"bf",[c.__fl.id,a]]);return this};a.endFill=function(){this._flChange.push([this.id,"ef"]);return this};a.setStrokeStyle=function(c,a,b,f){e.Stage.FL_LOG_PART_IMPLEMENTED&&(a||b||f)&&console.log("EaselFl:Graphics.setStrokeStyle currently does not implement caps, joints, or miterLimit");this._flChange.push([this.id,"ss",[c,a,b,f]]);return this};a.beginStroke=function(c){this._flChange.push([this.id,"s",c]);return this};a.beginLinearGradientStroke=function(c,a,b,f,h,g){this._flChange.push([this.id,
"ls",[c,a,b,f,h,g]]);return this};a.beginRadialGradientStroke=function(c,a,b,f,h,g,e,j){this._flChange.push([this.id,"rs",[c,a,b,f,h,g,e,j]]);return this};a.beginBitmapStroke=function(c,a){e.ImageFl.watch(c);this._flChildImages.push(c.__fl);this._flChange.push([this.id,"bs",[c.__fl.id,a]]);return this};a.endStroke=function(){this._flChange.push([this.id,"es"]);return this};a.curveTo=a.quadraticCurveTo;a.drawRect=a.rect;a.drawRoundRect=function(c,a,b,f,h){this._flChange.push([this.id,"rr",[c,a,b,f,
h]]);return this};a.drawRoundRectComplex=function(c,a,b,f,h,g,e,j){this._flChange.push([this.id,"rc",[c,a,b,f,h,g,e,j]]);return this};a.drawCircle=function(a,b,d){this._flChange.push([this.id,"dc",[a,b,d]]);return this};a.drawEllipse=function(a,b,d,f){this._flChange.push([this.id,"de",[a,b,d,f]]);return this};a.drawPolyStar=function(a,b,d,f,h,g){this._flChange.push([this.id,"dp",[a,b,d,f,h,g]]);return this};a.decodePath=function(a){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo],
d=[2,2,4,6],f=0,h=a.length,g=[],e=0,j=0,m=b.BASE_64;f<h;){var k=m[a.charAt(f)],p=k>>3,r=n[p];if(!r||k&3)throw"bad path data";var s=d[p];p||(e=j=0);g.length=0;f++;k=(k>>2&1)+2;for(p=0;p<s;p++){var q=m[a.charAt(f)],t=q>>5?-1:1,q=(q&31)<<6|m[a.charAt(f+1)];3==k&&(q=q<<6|m[a.charAt(f+2)]);q=t*q/10;p%2?e=q+=e:j=q+=j;g[p]=q;f+=k}r.apply(this,g)}return this};a.clone=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl:Graphics.clone currently not implemented";return o};a.toString=function(){return"[Graphics]"};
a.mt=a.moveTo;a.lt=a.lineTo;a.at=a.arcTo;a.bt=a.bezierCurveTo;a.qt=a.quadraticCurveTo;a.a=a.arc;a.r=a.rect;a.cp=a.closePath;a.c=a.clear;a.f=a.beginFill;a.lf=a.beginLinearGradientFill;a.rf=a.beginRadialGradientFill;a.bf=a.beginBitmapFill;a.ef=a.endFill;a.ss=a.setStrokeStyle;a.s=a.beginStroke;a.ls=a.beginLinearGradientStroke;a.rs=a.beginRadialGradientStroke;a.bs=a.beginBitmapStroke;a.es=a.endStroke;a.dr=a.drawRect;a.rr=a.drawRoundRect;a.rc=a.drawRoundRectComplex;a.dc=a.drawCircle;a.de=a.drawEllipse;
a.dp=a.drawPolyStar;a.p=a.decodePath;a._flChange=null;a._flChildImages=null;a.id=-1;e.Graphics=b})(createjs||(createjs={}));(function(e){var b=function(){this.initialize()},a=b.prototype;b.suppressCrossDomainErrors=!1;a.alpha=1;a.cacheCanvas=null;a.id=-1;a.mouseEnabled=!0;a.name=null;a.parent=null;a.regX=0;a.regY=0;a.rotation=0;a.scaleX=1;a.scaleY=1;a.skewX=0;a.skewY=0;a.shadow=null;a.visible=!0;a.x=0;a.y=0;a.compositeOperation=null;a.snapToPixel=!1;a.onPress=null;a.onClick=null;a.onDoubleClick=null;a.onMouseOver=null;a.onMouseOut=null;a.onTick=null;a.filters=null;a.cacheID=0;a.mask=null;a.hitArea=null;a._cacheOffsetX=
0;a._cacheOffsetY=0;a._cacheDataURLID=0;a._cacheDataURL=null;a._matrix=null;a.initialize=function(){this.id=e.UID.get();this._matrix=new e.Matrix2D;this._flChange=[]};a.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY};a.draw=function(a){this._flSyncProps(a);if(this._flChange.length){for(var b=0,d=this._flChange.length;b<d;++b)a._flChange.push(this._flChange[b]);this._flChange=[]}};a.updateContext=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl::DisplayObject.updateContext not yet implemented";
};a.cache=function(){this._flCache=!0;this._flCached=!1;this._flFiltersDirty=!0};a.updateCache=function(){this._flCache=!0;this._flCached=!1;this._flFiltersDirty=!0};a.uncache=function(){this._flCache=this._flCached=!1};a.getCacheDataURL=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl::DisplayObject.getCacheDataURL not yet implemented";};a.getStage=function(){for(var a=this;a.parent;)a=a.parent;return a instanceof e.Stage?a:null};a.localToGlobal=function(a,b){var d=this.getConcatenatedMatrix(this._matrix);
if(null==d)return null;d.append(1,0,0,1,a,b);return new e.Point(d.tx,d.ty)};a.globalToLocal=function(a,b){var d=this.getConcatenatedMatrix(this._matrix);if(null==d)return null;d.invert();d.append(1,0,0,1,a,b);return new e.Point(d.tx,d.ty)};a.localToLocal=function(a,b,d){a=this.localToGlobal(a,b);return d.globalToLocal(a.x,a.y)};a.setTransform=function(a,b,d,f,h,g,e,j,m){this.x=a||0;this.y=b||0;this.scaleX=null==d?1:d;this.scaleY=null==f?1:f;this.rotation=h||0;this.skewX=g||0;this.skewY=e||0;this.regX=
j||0;this.regY=m||0};a.getMatrix=function(a){return(a?a.identity():new e.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)};a.getConcatenatedMatrix=function(a){a?a.identity():a=new e.Matrix2D;for(var b=this;null!=b;)a.prependTransform(b.x,b.y,b.scaleX,b.scaleY,b.rotation,b.skewX,b.skewY,b.regX,b.regY).prependProperties(b.alpha,b.shadow,b.compositeOperation),b=b.parent;
return a};a.hitTest=function(a,b){return this._flCtx?this._flCtx.flInvoke(this.id,"htp",[a,b]):!1};a.clone=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl::DisplayObject.clone not yet implemented";return!1};a.toString=function(){return"[DisplayObject (name="+this.name+")]"};a.cloneProps=function(a){a.alpha=this.alpha;a.name=this.name;a.regX=this.regX;a.regY=this.regY;a.rotation=this.rotation;a.scaleX=this.scaleX;a.scaleY=this.scaleY;a.shadow=this.shadow;a.skewX=this.skewX;a.skewY=this.skewY;
a.visible=this.visible;a.x=this.x;a.y=this.y;a.mouseEnabled=this.mouseEnabled;a.compositeOperation=this.compositeOperation;a._flCache=this._flCache};a._tick=function(a){if(this.onTick)this.onTick(a)};a._flX=0;a._flY=0;a._flScaleX=1;a._flScaleY=1;a._flRotation=0;a._flSkewX=0;a._flSkewY=0;a._flRegX=0;a._flRegY=0;a._flVisible=!0;a._flAlpha=1;a._flMouseEnabled=!0;a._flMouseOver=null;a._flMouseOut=null;a._flClick=null;a._flPress=null;a._flMask=null;a._flShadow=null;a._flUseHandCursor=!1;a._flButtonMode=
!1;a._flChange=null;a._flCache=!1;a._flCached=!1;a._flFiltersDirty=!1;a._flSyncProps=function(a){this.visible!==this._flVisible&&(this._flVisible=this.visible,this._flChange.push([this.id,"vs",this.visible]));if(this.visible){this.mouseEnabled!==this._flMouseEnabled&&(this._flMouseEnabled=this.mouseEnabled,this._flChange.push([this.id,"smen",this.mouseEnabled]));if(this.mouseEnabled&&(this.onMouseOver!==this._flMouseOver&&(this.onMouseOver&&!this._flMouseOver?this._flChange.push([this.id,"amov"]):
!this.onMouseOver&&this._flMouseOver&&this._flChange.push([this.id,"rmov"]),this._flMouseOver=this.onMouseOver),this.onMouseOut!==this._flMouseOut&&(this.onMouseOut&&!this._flMouseOut?this._flChange.push([this.id,"amot"]):!this.onMouseOut&&this._flMouseOut&&this._flChange.push([this.id,"rmot"]),this._flMouseOut=this.onMouseOut),this.onClick!==this._flClick&&(this.onClick&&!this._flClick?this._flChange.push([this.id,"amck"]):!this.onClick&&this._flClick&&this._flChange.push([this.id,"rmck"]),this._flClick=
this.onClick),this.onPress!==this._flOnPress))this.onPress&&!this._flOnPress?this._flChange.push([this.id,"aprs"]):!this.onPress&&this._flOnPress&&this._flChange.push([this.id,"rprs"]),this._flOnPress=this.onPress;this.alpha!==this._flAlpha&&(this._flAlpha=this.alpha,this._flChange.push([this.id,"op",this.alpha]));this.shadow&&this.shadow._flSyncProps(a);this.shadow!==this._flShadow&&(this._flShadow=this.shadow,this._flChange.push([this.id,"shd",this.shadow.id]));if(this._flFiltersDirty&&(this._flFiltersDirty=
!1,this.filters&&0<this.filters.length)){for(var e=[],d=0,f=this.filters.length;d<f;d++){var h=this.filters[d];h._flSyncProps(a);e[d]=h.id}this._flChange.push([this.id,"flts",e])}this.mask!==this._flMask&&(this._flMask=this.mask,this._flChange.push([this.id,"msk",this.mask?this.mask.id:null]));if(this.x!==this._flX||this.y!==this._flY||this.scaleX!==this._flScaleX||this.scaleY!==this._flScaleY||this.rotation!==this._flRotation||this.skewX!==this._flSkewX||this.skewY!==this._flSkewY||this.regX!==this._flRegX||
this.regY!==this._flRegY)this._flX=this.x,this._flY=this.y,this._flScaleX=this.scaleX,this._flScaleY=this.scaleY,this._flRotation=this.rotation,this._flSkewX=this.skewX,this._flSkewY=this.skewY,this._flRegX=this.regX,this._flRegY=this.regY,a=b._flTempMtx,a.identity(),a.prependTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY),this._flChange.push([this.id,"mtx",[a.a,a.b,a.c,a.d,a.tx,a.ty]])}};a._flRunCreate=function(){throw"prototype._flRunCreate must be overriden for all DisplayObject subclasses";
};a.flSetCursorMode=function(a,b){a!==this._flUseHandCursor&&(this._flChange.push([this.id,"scrs",a]),this._flUseHandCursor=a);b!==this._flButtonMode&&(this._flChange.push([this.id,"sbtn",b]),this._flButtonMode=b)};b._flTempMtx=new e.Matrix2D;e.DisplayObject=b})(createjs||(createjs={}));(function(e){var b=function(){this.initialize()},a=b.prototype=new e.DisplayObject;a.children=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(){this.DisplayObject_initialize();this.children=[]};a.isVisible=function(){return this.visible&&0<this.alpha&&this.children.length&&0!=this.scaleX&&0!=this.scaleY};a.DisplayObject_draw=a.draw;a.draw=function(a,b,d){if(this.DisplayObject_draw(a,b))return!0;d=d||this._matrix.reinitialize(1,0,0,1,0,0,this.alpha,this.shadow,this.compositeOperation);
if(this._flCached||!this.isVisible())return!0;this._flCached=this._flCache;for(var b=this.children.length,f=this.children.slice(0),e=0;e<b;e++){var g=f[e],l=g._matrix.reinitialize(d.a,d.b,d.c,d.d,d.tx,d.ty,d.alpha,d.shadow,d.compositeOperation);l.appendTransform(g.x,g.y,g.scaleX,g.scaleY,g.rotation,g.skewX,g.skewY,g.regX,g.regY);l.appendProperties(g.alpha,g.shadow,g.compositeOperation);g.draw(a,!1,l)}return!0};a.addChild=function(a){if(null==a)return a;var b=arguments.length;if(1<b){for(var d=0;d<
b;d++)this.addChild(arguments[d]);return arguments[b-1]}a.parent&&a.parent.removeChild(a);a.parent=this;this.children.push(a);this._flCtx&&a._flRunCreate(this._flCtx);this._flChange.push([this.id,"ac",a.id]);return a};a.addChildAt=function(a,b){var d=arguments.length;if(2<d){for(var b=arguments[f-1],f=0;f<d-1;f++)this.addChildAt(arguments[f],b+f);return arguments[d-2]}a.parent&&a.parent.removeChild(a);a.parent=this;this.children.splice(b,0,a);this._flCtx&&a._flRunCreate(this._flCtx);this._flChange.push([this.id,
"aca",[a.id,b]]);return a};a.removeChild=function(a){var b=arguments.length;if(1<b){for(var d=!0,f=0;f<b;f++)d=d&&this.removeChild(arguments[f]);return d}return this.removeChildAt(this.children.indexOf(a))};a.removeChildAt=function(a){var b=arguments.length;if(1<b){for(var d=[],f=0;f<b;f++)d[f]=arguments[f];d.sort(function(a,c){return c-a});for(var e=!0,f=0;f<b;f++)e=e&&this.removeChildAt(d[f]);return e}if(0>a||a>this.children.length-1)return!1;b=this.children[a];null!=b&&(b.parent=null);this.children.splice(a,
1);this._flChange.push([this.id,"rca",a]);return!0};a.removeAllChildren=function(){for(var a=this.children;a.length;)a.pop().parent=null;this._flChange.push([this.id,"rac"])};a.getChildAt=function(a){return this.children[a]};a.sortChildren=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl:Container.sortChildren not yet implemented";};a.getChildIndex=function(a){return this.children.indexOf(a)};a.getNumChildren=function(){return this.children.length};a.swapChildrenAt=function(a,b){var d=this.children,
f=d[a],e=d[b];f&&e&&(d[a]=e,d[b]=f)};a.swapChildren=function(a,b){for(var d=this.children,f,e,g=0,l=d.length;g<l&&!(d[g]==a&&(f=g),d[g]==b&&(e=g),null!=f&&null!=e);g++);g!=l&&(d[f]=b,d[e]=a)};a.setChildIndex=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl:Container.setChildIndex not yet implemented";};a.contains=function(a){for(;a;){if(a==this)return!0;a=a.parent}return!1};a.getObjectsUnderPoint=function(a,b){var d=[],f=this.localToGlobal(a,b);this._getObjectsUnderPoint(f.x,f.y,d);return d};
a.getObjectUnderPoint=function(a,b){var d=this.localToGlobal(a,b);return this._getObjectsUnderPoint(d.x,d.y)};a.clone=function(a){var e=new b;this.cloneProps(e);if(a)for(var d=e.children=[],f=0,h=this.children.length;f<h;f++){var g=this.children[f].clone(a);g.parent=e;d.push(g)}return e};a.toString=function(){return"[Container (name="+this.name+")]"};a._tick=function(a){for(var b=this.children.length-1;0<=b;b--){var d=this.children[b];d._tick&&d._tick(a)}if(this.onTick)this.onTick(a)};a._getObjectsUnderPoint=
function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl:Container._getObjectsUnderPoint not yet implemented";};a._flCtx=null;a._flRunCreate=function(a){if(this._flCtx!==a){this._flCtx=a;a._flCreate.push(["cnt",this]);for(var b=0,d=this.children.length;b<d;++b)this.children[b]._flRunCreate(a)}};e.Container=b})(createjs||(createjs={}));(function(e){var b=function(a){this.initialize(a)},a=b.prototype=new e.Container;b._snapToPixelEnabled=!1;a.autoClear=!0;a.canvas=null;a.mouseX=null;a.mouseY=null;a.onMouseMove=null;a.onMouseUp=null;a.onMouseDown=null;a.snapToPixelEnabled=!1;a.mouseInBounds=!1;a.tickOnUpdate=!0;a._pointerData=null;a._pointerCount=0;a._primaryPointerID=null;a._mouseOverIntervalID=null;a.Container_initialize=a.initialize;a.initialize=function(a){this.canvas=!0==a.isFl?a:new e.CanvasFl(a);this.canvas._stage=this;this.Container_initialize();
this._enableMouseEvents(!0);this._flCtx=a=this.canvas.getContext("2d");a._flCreate.push(["stg",this])};a.update=function(a){this.canvas&&(this.canvas._ctx&&this.canvas._ctx.flReady)&&(!1===this.autoClear?(this._flAutoClear=this.autoClear,this.canvas._ctx._flChange.push([this.id,"blt"])):!1===this._flAutoClear&&(this._flAutoClear=!0,this.canvas._ctx._flChange.push([this.id,"clr"])),b._snapToPixelEnabled=this.snapToPixelEnabled,this.tickOnUpdate&&this._tick(a),this.draw(this.canvas._ctx,!1,this.getConcatenatedMatrix(this._matrix)),
this.canvas._ctx._flFlush())};a.tick=a.update;a.clear=function(){if(b.FL_THROW_UNIMPLEMENTED)throw"EaseFl:Stage.clear not yet implemented";};a.toDataURL=function(){if(b.FL_THROW_UNIMPLEMENTED)throw"Stage.toDataURL not implemented in EaselFl";return null};a.enableMouseOver=function(){};a.clone=function(){var a=new b(null);this.cloneProps(a);return a};a.toString=function(){return"[Stage (name="+this.name+")]"};a._enableMouseEvents=function(){var a=this,e=b.__MS_BINDING?"attachEvent":"addEventListener";
(document[e]?document:window)[e](b.__MS_BINDING?"onmousemove":"mousemove",function(b){a._handleMouseMove(b)},!1)};a._handleMouseMove=function(a){if(this.canvas){a||(a=window.event);var n=this.mouseInBounds;b.__MS_BINDING?this._updatePointerPosition(-1,a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop):this._updatePointerPosition(-1,a.pageX,a.pageY);if(n||this.mouseInBounds){a=new e.MouseEvent("onMouseMove",this.mouseX,
this.mouseY,this,a);if(this.onMouseMove)this.onMouseMove(a);if(this._activeMouseEvent&&this._activeMouseEvent.onMouseMove)this._activeMouseEvent.onMouseMove(a)}}else this.mouseX=this.mouseY=null};a._updatePointerPosition=function(a,b,d){if(a=this.canvas._ctx._flInstance){do b-=a.offsetLeft,d-=a.offsetTop;while(a=a.offsetParent);if(this.mouseInBounds=0<=b&&0<=d&&b<this.canvas.width&&d<this.canvas.height)this.mouseX=b,this.mouseY=d}};a._flCtx=null;a._flAutoClear=!0;a.flOnReady=null;a.flReady=!1;b.isEaselFl=
!0;b.__MS_BINDING=window.addEventListener||document.addEventListener?!1:!0;b.FL_THROW_UNIMPLEMENTED=!0;b.FL_LOG_PART_IMPLEMENTED=!0;e.Stage=b})(createjs||(createjs={}));(function(e){var b=function(a){this.initialize(a)},a=b.prototype=new e.DisplayObject;a.image=null;a.snapToPixel=!0;a.sourceRect=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(a){this.DisplayObject_initialize();"string"==typeof a?(this.image=new Image,this.image.src=a):this.image=a};a.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState)};a.DisplayObject_draw=a.draw;
a.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this.image&&(this.image!==this._flImg&&(this._flImg=this.image,e.ImageFl.watch(this.image),this.sourceRect&&this.sourceRect._flSync(a),this.sourceRect!==this._flSourceRect&&(this._flSourceRect=this.sourceRect,a._flChange.push([this.id,"rct",this.sourceRect?this.sourceRect.id:null])),a._flChange.push([this.id,"img",this.image.__fl.id])),this.image.__fl.sync(a));return!0};a.clone=function(){var a=new b(this.image);this.cloneProps(a);return a};
a.toString=function(){return"[Bitmap (name="+this.name+")]"};a._flCtx=null;a._flImg=null;a._flSourceRect=null;a._flSmoothing=!1;a.flSmoothing=!1;a.flSetSmoothing=function(a){this._flCtx&&a!==this._flSmoothing?(this.flSmoothing=this._flSmoothing=a,this._flCtx._flChange.push([this.id,"smth",a])):this.flSmoothing=a};a._flRunCreate=function(a){this._flCtx!==a&&(this._flCtx=a,a._flCreate.push(["bmp",this]),this.flSetSmoothing(this.flSmoothing))};e.Bitmap=b})(createjs||(createjs={}));(function(e){var b=function(a){this.initialize(a)},a=b.prototype=new e.DisplayObject;a.onAnimationEnd=null;a.currentFrame=-1;a.currentAnimation=null;a.paused=!0;a.spriteSheet=null;a.snapToPixel=!0;a.offset=0;a.currentAnimationFrame=0;a._advanceCount=0;a._animation=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(a){this.DisplayObject_initialize();this.spriteSheet=a};a.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&this.spriteSheet.complete&&
0<=this.currentFrame};a.DisplayObject_draw=a.draw;a.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var d=this.spriteSheet.getFrame(this.currentFrame);if(null==d)return!1;d!==this._flFrame&&(e.FrameFl.watch(d),d.__fl.sync(a),this._flFrame=d,a._flChange.push([this.id,"frm",d.__fl.id]));return!0};a.play=function(){this.paused=!1};a.stop=function(){this.paused=!0};a.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};a.gotoAndStop=function(a){this.paused=!0;this._goto(a)};
a.advance=function(){this._animation?this.currentAnimationFrame++:this.currentFrame++;this._normalizeFrame()};a.clone=function(){var a=new b(this.spriteSheet);this.cloneProps(a);return a};a.toString=function(){return"[BitmapAnimation (name="+this.name+")]"};a._tick=function(a){var b=this._animation?this._animation.frequency:1;!this.paused&&0==(++this._advanceCount+this.offset)%b&&this.advance();if(this.onTick)this.onTick(a)};a._normalizeFrame=function(){var a=this._animation;if(a)if(this.currentAnimationFrame>=
a.frames.length){if(a.next?this._goto(a.next):(this.paused=!0,this.currentAnimationFrame=a.frames.length-1,this.currentFrame=a.frames[this.currentAnimationFrame]),this.onAnimationEnd)this.onAnimationEnd(this,a.name)}else this.currentFrame=a.frames[this.currentAnimationFrame];else if(this.currentFrame>=this.spriteSheet.getNumFrames()&&(this.currentFrame=0,this.onAnimationEnd))this.onAnimationEnd(this,null)};a.DisplayObject_cloneProps=a.cloneProps;a.cloneProps=function(a){this.DisplayObject_cloneProps(a);
a.onAnimationEnd=this.onAnimationEnd;a.currentFrame=this.currentFrame;a.currentAnimation=this.currentAnimation;a.paused=this.paused;a.offset=this.offset;a._animation=this._animation;a.currentAnimationFrame=this.currentAnimationFrame};a._goto=function(a){if(isNaN(a)){var b=this.spriteSheet.getAnimation(a);b&&(this.currentAnimationFrame=0,this._animation=b,this.currentAnimation=a,this._normalizeFrame())}else this.currentAnimation=this._animation=null,this.currentFrame=a};a._flFrame=null;a._flSmoothing=
!1;a.flSmoothing=!1;a.flSetSmoothing=function(a){this._flCtx&&a!==this._flSmoothing?(this.flSmoothing=this._flSmoothing=a,this._flCtx._flChange.push([this.id,"smth",a])):this.flSmoothing=a};a._flRunCreate=function(a){this._flCtx!==a&&(this._flCtx=a,a._flCreate.push(["ban",this]),this.flSetSmoothing(this.flSmoothing))};e.BitmapAnimation=b})(createjs||(createjs={}));(function(e){var b=function(a){this.initialize(a)},a=b.prototype=new e.DisplayObject;a.graphics=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(a){this.DisplayObject_initialize();this.graphics=a?a:new e.Graphics};a.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&this.graphics};a.DisplayObject_draw=a.draw;a.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._flCached||(this._flCached=this._flCache,this.graphics.draw(a));return!0};
a.clone=function(){if(CanvasFl.THROW_UNIMPLEMENTED)throw"EaselFl:Shape.clone currently not implemented";return null};a.toString=function(){return"[Shape (name="+this.name+")]"};a._flCtx=null;a._flRunCreate=function(a){this._flCtx!==a&&(this._flCtx=a,a._flCreate.push(["shp",this]),a._flCreate.push(["gfx",this.graphics]),a._flChange.push([this.id,"gfx",[this.graphics.id]]))};e.Shape=b})(createjs||(createjs={}));(function(e){var b=function(a,b,d){this.initialize(a,b,d)},a=b.prototype=new e.DisplayObject;a.text="";a.font=null;a.color=null;a.textAlign=null;a.textBaseline=null;a.maxWidth=null;a.outline=!1;a.lineHeight=0;a.lineWidth=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(a,b,d){this.DisplayObject_initialize();this.text=a;this.font=b;this.color=d?d:"#000"};a.isVisible=function(){return Boolean(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&null!=this.text&&""!==this.text)};
a.DisplayObject_draw=a.draw;a.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this.text!==this._flText&&(a._flChange.push([this.id,"txt",this.text]),this._flText=this.text);this.color!==this._flColor&&(a._flChange.push([this.id,"clr",this.color]),this._flColor=this.color);this.font!==this._flFont&&(a._flChange.push([this.id,"fnt",this.font]),this._flFont=this.font);this.textBaseline!==this._flTextBaseline&&(a._flChange.push([this.id,"bsl",this.textBaseline]),this._flTextBaseline=this.textBaseline);
this.textAlign!==this._flTextAlign&&(a._flChange.push([this.id,"aln",this.textAlign]),this._flTextAlign=this.textAlign);this.lineWidth!==this._flLineWidth&&(a._flChange.push([this.id,"lwd",this.lineWidth]),this._flLineWidth=this.lineWidth);this.lineHeight!==this._flLineHeight&&(a._flChange.push([this.id,"lht",0===!this.lineHeight?null:this.lineHeight]),this._flLineHeight=this.lineHeight);this.outline!==this._flOutline&&(a._flChange.push([this.id,"otl",this.outline]),this._flOutline=this.outline);
return!0};a.getMeasuredWidth=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaseFl:Text.getMeasuredWidth not yet implemented";return null};a.getMeasuredLineHeight=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaseFl:Text.getMeasuredLineHeight not yet implemented";return null};a.getMeasuredHeight=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaseFl:Text.getMeasuredHeight not yet implemented";return null};a.clone=function(){var a=new b(this.text,this.font,this.color);this.cloneProps(a);
return a};a.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};a.DisplayObject_cloneProps=a.cloneProps;a.cloneProps=function(a){this.DisplayObject_cloneProps(a);a.textAlign=this.textAlign;a.textBaseline=this.textBaseline;a.maxWidth=this.maxWidth;a.outline=this.outline;a.lineHeight=this.lineHeight;a.lineWidth=this.lineWidth};a._flFont=null;a._flText="";a._flColor=null;a._flTextAlign=null;a._flTextBaseline=null;a._flOutline=!1;a._flLineHeight=
0;a._flLineWidth=null;a._flRunCreate=function(a){this._flCtx!==a&&(this._flCtx=a,a._flCreate.push(["txt",this]))};e.Text=b})(createjs||(createjs={}));(function(e){var b=function(){throw"SpriteSheetUtils cannot be instantiated";};b._workingCanvas=document.createElement("canvas");b._workingContext=b._workingCanvas.getContext("2d");b.addFlippedFrames=function(a,c,e,d){if(c||e||d){var f=0;c&&b._flip(a,++f,!0,!1);e&&b._flip(a,++f,!1,!0);d&&b._flip(a,++f,!0,!0)}};b.extractFrame=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl::SpriteSheetUtils.extractFramet not yet implemented";};b._flip=function(a,b,e,d){var f,h=a._frames,g=h.length/b;for(i=
0;i<g;i++)src=h[i],f={flip:!0,src:src,h:e,v:d},h.push(f);e="_"+(e?"h":"")+(d?"v":"");d=a._animations;a=a._data;f=d.length/b;for(i=0;i<f;i++){h=d[i];src=a[h];var l={name:h+e,frequency:src.frequency,next:src.next,frames:[]};src.next&&(l.next+=e);for(var h=src.frames,j=0,m=h.length;j<m;j++)l.frames.push(h[j]+g*b);a[l.name]=l;d.push(l.name)}};e.SpriteSheetUtils=b})(createjs||(createjs={}));(function(e){var b,a;b=function(a){var b="transform WebkitTransform msTransform MozTransform OTransform filter".split(" "),c;do if(c=b.shift(),"undefined"!=typeof a.style[c])return c;while(b.length);return!1}(document.createElement("div"));isNew="filter"!==b&&b;a=b+"Origin";var c=isNew?function(a){for(var b={visible:!0,alpha:1};a&&b.visible;)b.visible=a.visible,b.alpha*=a.alpha,a=a.parent;return b}:function(a){for(var b={visible:!0,alpha:1};a&&b.visible;)b.visible=a.visible,b.alpha*=a.alpha,a=a.parent;
0.5>b.alpha&&(b.visible=!1);b.alpha=1;return b},n=function(a){this.initialize(a)},d=n.prototype=new e.DisplayObject;d.htmlElement=null;d._style=null;d.DisplayObject_initialize=d.initialize;d.initialize=function(b){"string"==typeof b&&(b=document.getElementById(b));this.DisplayObject_initialize();this.mouseEnabled=!1;this.htmlElement=b;this._flLastMtx={a:null,b:null,c:null,d:null,tx:null,ty:null};b&&(b=this._style=b.style,b.position="absolute",b.top=0,b.left=0,isNew&&(this._style[a]="0% 0%"))};d.isVisible=
function(){return null!=this.htmlElement};d.draw=function(){if(this.htmlElement){var a=this.getConcatenatedMatrix(this._matrix);!isNew&&(this.htmlElement.parentNode!==this._flParentNode&&this.htmlElement.parentNode)&&(this._flParentNode=this.htmlElement.parentNode,this.flUpdateBounds());this._flCumMtx=a;this._flVisible&&this._flSyncTransform();return!0}};d.cache=function(){};d.uncache=function(){};d.updateCache=function(){};d.hitTest=function(){};d.localToGlobal=function(){};d.globalToLocal=function(){};
d.localToLocal=function(){};d.clone=function(){var a=new n;this.cloneProps(a);return a};d.toString=function(){return"[DOMElement (name="+this.name+")]"};d._tick=function(a){if(null!=this.htmlElement&&(this._flCumMtx&&this._flSyncVisibility()&&this._flSyncTransform(),this.onTick))this.onTick(a)};d._flSimpleTransform=!0;d._flWidth=0;d._flHeight=0;d._flLastMtx=null;d._flBx=0;d._flBy=0;d._flVisible=!0;d._flAlpha=1;d._flCumMtx=null;d._flMsMtx="";d._flMsAlpha="";d._flMsCum=" ";d._flParentNode=null;d._flCtx=
null;d._flSyncVisibility=function(){var a=c(this),d=this.htmlElement.style,e=!1;this._flVisible!==(null!==this._flCumMtx&&a.visible)&&(e=!0,this._flVisible=!this._flVisible,d.visibility=this._flVisible?"visible":"hidden");if(!1===this.visible)return!1;a.alpha!==this.__alpha&&("filter"!==b?d.opacity=1>a.alpha?a.alpha:"":this._flMsAlpha=1>a.alpha?"progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(100*a.alpha)+")":"",this.__alpha=a.alpha);return e&&this._flVisible};d._flSyncTransform=function(){var a=
this._flCumMtx,c=this.htmlElement.style;if(a){var d=this._flLastMtx;if(d.tx!==a.tx||d.ty!==a.ty||d.a!==a.a||d.b!==a.b||d.c!==a.c||d.d!==a.d){var e=1===a.a&&0===a.b&&a.a===a.d&&a.b===a.c;if(e)c.left=a.tx+"px",c.top=a.ty+"px",this._flSimpleTransform||("filter"!==b?c[b]="":this._flMsMtx="");else if(d.a!==a.a||d.b!==a.b||d.c!==a.c||d.d!==a.d)if("filter"!==b)c.left=a.tx+"px",c.top=a.ty+"px",c[b]="matrix("+a.a.toFixed(4)+","+a.b.toFixed(4)+","+a.c.toFixed(4)+","+a.d.toFixed(4)+",0,0)";else{this._flMsMtx=
"progid:DXImageTransform.Microsoft.Matrix(M11="+a.a.toFixed(4)+", M12="+a.c.toFixed(4)+", M21="+a.b.toFixed(4)+", M22="+a.d.toFixed(4)+', sizingMethod="auto expand")';var j=this._flWidth,n=this._flHeight,j=0.5*j,k=0.5*n,p=j*a.a+k*a.c,r=j*a.b+k*a.d,n=-j*a.a+k*a.c,k=-j*a.b+k*a.d,j=Math.max(Math.abs(p),Math.abs(n)),n=Math.max(Math.abs(r),Math.abs(k)),p=this._flBx=-(j-p),r=this._flBy=-(n-r);c.left=a.tx+p+"px";c.top=a.ty+r+"px";c.zIndex=0}else c.left=a.tx+this._flBx+"px",c.top=a.ty+this._flBy+"px";this._flSimpleTransform=
e;d.a=a.a;d.b=a.b;d.c=a.c;d.d=a.d;d.tx=a.tx;d.ty=a.ty;"filter"===b&&(a=this._flMsMtx+" "+this._flMsAlpha,a!==this._flMsCum&&(this._flMsCum=a,c[b]=a))}}};d._flRunCreate=function(a){this._flCtx!==a&&a&&(this._flCtx=a,a._flCreate.push(["shp",this]))};d.flUpdateBounds=function(){var a,c,d;a=this.htmlElement;c=a.style;d=c[b];c[b]="";this._flWidth=a.offsetWidth;this._flHeight=a.offsetHeight;c[b]=d};e.DOMElement=n})(createjs||(createjs={}));(function(e){var b=function(){this.initialize()},a=b.prototype;a.initialize=function(){};a.getBounds=function(){return new e.Rectangle(0,0,0,0)};a.applyFilter=function(){};a.toString=function(){return"[Filter]"};a.clone=function(){return new b};e.Filter=b})(createjs||(createjs={}));(function(e){var b=function(a,b,d){this.initialize(a,b,d)},a=b.prototype=new e.Filter;a.initialize=function(a,b,d){if(isNaN(a)||0>a)a=0;this.blurX=a|0;if(isNaN(b)||0>b)b=0;this.blurY=b|0;if(isNaN(d)||1>d)d=1;this.quality=d|0;this.id=e.UID.get()};a.blurX=0;a.blurY=0;a.quality=1;a.getBounds=function(){return new e.Rectangle(-this.blurX,-this.blurY,2*this.blurX,2*this.blurY)};a.applyFilter=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl:BoxBlurFilter.applyFilter currently not implemented";
return!0};a.clone=function(){return new b(this.blurX,this.blurY,this.quality)};a.toString=function(){return"[BoxBlurFilter]"};a._flBlurX=a.blurX;a._flBlurY=a.blurY;a._flQuality=a.quality;a._flCtx=null;a.id=null;a._flSyncProps=function(a){this._flCtx||(this._flCtx=a,a._flCreate.push(["bxblr",this]));if(this.blurX!==this._flBlurX||this.blurY!==this._flBlurY||this.quality!==this._flQuality)this._flBlurX=this.blurX,this._flBlurY=this.blurY,this._flQuality=this.quality,this._flCtx._flChange.push([this.id,
"flt",[this.blurX,this.blurY,2.5*this.quality]])};e.BoxBlurFilter=b})(createjs||(createjs={}));(function(e){var b=function(a,b,d,e,h,g,l,j){this.initialize(a,b,d,e,h,g,l,j)},a=b.prototype=new e.Filter;a.redMultiplier=1;a.greenMultiplier=1;a.blueMultiplier=1;a.alphaMultiplier=1;a.redOffset=0;a.greenOffset=0;a.blueOffset=0;a.alphaOffset=0;a.initialize=function(a,b,d,f,h,g,l,j){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=b?b:1;this.blueMultiplier=null!=d?d:1;this.alphaMultiplier=null!=f?f:1;this.redOffset=h||0;this.greenOffset=g||0;this.blueOffset=l||0;this.alphaOffset=j||0;this.id=
e.UID.get();this._flProps=[1,1,1,1,0,0,0,0]};a.applyFilter=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl:ColorFilter.applyFilter currently not implemented";return!0};a.toString=function(){return"[ColorFilter]"};a.clone=function(){return new b(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};a._flSyncProps=function(a){this._flCtx||(this._flCtx=a,a._flCreate.push(["clrfl",this]));a=this._flProps;
if(this.redMultiplier!==a[0]||this.greenMultiplier!==a[1]||this.blueMultiplier!==a[2]||this.alphaMultiplier!==a[3]||this.redOffset!==a[4]||this.greenOffset!==a[5]||this.blueOffset!==a[6]||this.alphaOffset!==a[7])a[0]=this.redMultiplier,a[1]=this.greenMultiplier,a[2]=this.blueMultiplier,a[3]=this.alphaMultiplier,a[4]=this.redOffset,a[5]=this.greenOffset,a[6]=this.blueOffset,a[7]=this.alphaOffset,this._flCtx._flChange.push([this.id,"flt",a])};a._flCtx=null;a._flProps=null;a.id=null;e.ColorFilter=b})(createjs||
(createjs={}));(function(e){var b=function(a){this.initialize(a)},a=b.prototype=new e.Filter;a.matrix=null;a.initialize=function(a){this.matrix=a;this._flMatrix=[];this.id=e.UID.get()};a.applyFilter=function(){if(e.Stage.FL_THROW_UNIMPLEMENTED)throw"EaselFl:ColorMatrixFilter.applyFilter currently not implemented";return!0};a.toString=function(){return"[ColorMatrixFilter]"};a.clone=function(){return new b(this.matrix)};a._flSyncProps=function(a){this._flCtx||(this._flCtx=a,a._flCreate.push(["cmtxfl",this]));var a=
this.matrix,b=this._flMatrix;if(a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]||a[3]!==b[3]||a[4]!==b[4]||a[5]!==b[5]||a[6]!==b[6]||a[7]!==b[7]||a[8]!==b[8]||a[9]!==b[9]||a[10]!==b[10]||a[11]!==b[11]||a[12]!==b[12]||a[13]!==b[13]||a[14]!==b[14]||a[15]!==b[15]||a[16]!==b[16]||a[17]!==b[17]||a[18]!==b[18]||a[19]!==b[19])this._flCtx._flChange.push([this.id,"flt",this._flMatrix=a.toArray()])};a._flCtx=null;a._flMatrix=null;a.id=null;e.ColorMatrixFilter=b})(createjs||(createjs={}));
